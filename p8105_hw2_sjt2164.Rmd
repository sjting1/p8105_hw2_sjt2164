---
title: "Homework 2"
output: github_document
---
_Note: This homework uses the `tidyverse` and `dplyr` libraries._
```{r setup, include = FALSE}
library(tidyverse)
library(dplyr)
```

## Problem 1

```{r data, include = FALSE}
nyctransit_df = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")
nyctransit_df #1,868 entries and 32 columns.
```

The `nyctransit_df` dataset (`r ncol(nyctransit_df)` columns x `r nrow(nyctransit_df)` rows) was created based on the _"NYC_Transit_Subway_Entrance_And_Exit_Data.csv"_ file.

```{r summary, include = FALSE}
summary(nyctransit_df)
nyctransit_df = janitor::clean_names(nyctransit_df) #transform variable names to snake case
```

After reading the `nyctransit_df` dataset and taking a look at its 32 variables with `summary(nyctransit_df)`, I applied the snake case convention to the variable names using `clean_names` from the `janitor` package. 

```{r select, include = FALSE}
nyctransit_q1 = 
  select(nyctransit_df, line:entry, vending, ada) |>
   mutate(
     entry = ifelse(entry == "YES", TRUE, FALSE)
     ) #convert entry to logical variable

nyctransit_q1 #1,868 entries and 19 columns. 11 character, 2 logical and 6 double variables
summary(nyctransit_q1)
```

Using the `select()` function, I selected my variables of interest and converted the `entry` variable in this dataset from character to a logical variable. 

The resulting `nyctransit_q1` dataset (`r ncol(nyctransit_q1)` columns x `r nrow(nyctransit_q1)` rows) has 19 variables (11 characters, 2 logicals, and 6 doubles).


#### The 19 Variables in `nyctransit_q1`

_Note: To see the categories in some of the character and double variables, I transformed them into factors and created the `nyctransit_fc` dataset. Then I used the `levels(pull())` function to look at the categories._

```{r char to fact, include = FALSE}
nyctransit_fc = 
  nyctransit_q1 |>
    mutate(
      line_fc = as.factor(line), #mutate to see the categories
      station_name_fc = as.factor(station_name),
      route1_fc = as.factor(route1),
      route2_fc = as.factor(route2),
      route3_fc = as.factor(route3),
      route4_fc = as.factor(route4),
      route5_fc = as.factor(route5),
      route6_fc = as.factor(route6),
      route7_fc = as.factor(route7),
      route8_fc = as.factor(route8), # trains 1,4, and 5 
      route9_fc = as.factor(route9), # trains 2 and 5
      route10_fc = as.factor(route10), # train 3
      route11_fc = as.factor(route11), # train 7
      entrance_type_fc = as.factor(entrance_type),
      vending_fc = as.factor(vending),
      )

summary(nyctransit_fc)
```

```{r levels, include = FALSE}
levels(pull(nyctransit_fc,line_fc))
levels(pull(nyctransit_fc,station_name_fc))
levels(pull(nyctransit_fc,route1_fc))
levels(pull(nyctransit_fc,route2_fc))
levels(pull(nyctransit_fc,route3_fc))
levels(pull(nyctransit_fc,route4_fc))
levels(pull(nyctransit_fc,route5_fc))
levels(pull(nyctransit_fc,route6_fc))
levels(pull(nyctransit_fc,route7_fc))
levels(pull(nyctransit_fc,entrance_type_fc))
levels(pull(nyctransit_fc,vending_fc))
```

In the `nyvtransit_q1` dataset, the 11 character variables include: `line` (36 different lines), `station_name` (356 different names), `route1` to `route7`, which contains specific trains that take each route, `entrance_type` (`r levels(pull(nyctransit_fc,entrance_type_fc))`), and `vending` (y/n).

The 2 logical variables are `ada`, which indicates whether it is ADA compliant, and `entry`.

The 6 double variables are `station_latitude`, `station_longitude`, and `route8` to `route11`. The variables for routes 8 to 11 also contains data on specific train numbers that use those routes.
  
The data in `nyctransit_q1` is not tidy. For example, Routes 8 to 11 were entered as doubles but specific train numbers are entered in these columns. Similarly, character variables such as `line`, `entrance_type`, `vending`, and `route1` to `route7` are categorical variables and could be converted to factors.


